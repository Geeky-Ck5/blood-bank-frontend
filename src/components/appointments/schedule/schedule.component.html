<div class="schedule-container">
  <!-- Left Section: Appointment Form & Map -->
  <div class="left-section">
    <h2>Schedule a Donation Appointment</h2>
    <form (ngSubmit)="onSubmit()" #scheduleForm="ngForm" class="appointment-form">
      <div class="form-group">
        <!-- Donation Center Selection -->
        <label for="donationCenter">Donation Center</label>
        <select
          id="donationCenter"
          [(ngModel)]="selectedCenter"
          name="selectedCenter"
          required
          (change)="updateSelectedCenter()"
        >
          <option *ngFor="let center of donationCenters" [value]="center">
            {{ center.name }} - {{ center.location }}
          </option>
        </select>
      </div>

      <!-- Google Map Section -->
      <div class="map-container">
        <google-map [center]="mapCenter" [zoom]="mapZoom" height="400px" width="100%">
          <map-marker
            *ngFor="let center of donationCenters"
            [position]="center.location"
            [title]="center.name"
            [options]="{ icon: { url: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png' } }"
          >
          </map-marker>

          <!-- Highlight User's Selected Center -->
          <map-marker
            *ngIf="selectedCenter"
            [position]="selectedCenter.location"
            [title]="'Your Selection'"
            [options]="{ icon: { url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png' } }"
          >
          </map-marker>
        </google-map>
      </div>

      <div class="form-group">
        <label for="date">Date</label>
        <input id="date" type="date" [(ngModel)]="appointment.date" name="date" required />
      </div>

      <div class="form-group">
        <label for="time">Time</label>
        <input id="time" type="time" [(ngModel)]="appointment.time" name="time" required />
      </div>

      <div class="form-group checkbox-group">
        <input type="checkbox" [(ngModel)]="saveAsPreferred" id="preferred-center" />
        <label for="preferred-center">Save this center as my preferred donation center</label>
      </div>

      <button type="submit" class="btn-primary">Schedule Appointment</button>
    </form>
  </div>

  <!-- Right Section: Upcoming Appointments & Events -->
  <div class="right-section">
    <div class="info-card">
      <h3>Upcoming Appointments</h3>
      <p *ngIf="!upcomingAppointments.length">No upcoming appointments</p>
      <ul *ngIf="upcomingAppointments.length">
        <li *ngFor="let appointment of upcomingAppointments">
          {{ appointment.date }} at {{ appointment.time }}
        </li>
      </ul>
    </div>

    <div class="info-card">
      <h3>Upcoming Donation Events</h3>
      <p *ngIf="!upcomingEvents.length">No upcoming events</p>
      <ul *ngIf="upcomingEvents.length">
        <li *ngFor="let event of upcomingEvents">
          {{ event.name }} - {{ event.date }}
        </li>
      </ul>
    </div>
  </div>
</div>
