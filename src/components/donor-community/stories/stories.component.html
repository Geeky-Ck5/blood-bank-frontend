<div class="community-stories-container">
  <h2>Community Stories</h2>

  <!-- Approved Stories -->
  <h3>Approved Stories</h3>
  <div *ngIf="approvedStories.length > 0; else noApprovedStories">
    <div class="story-card" *ngFor="let story of approvedStories">
      <div class="story-header">
        <i class="fas fa-user-circle user-icon"></i>
        <span class="story-user">{{ story.userName }}</span>
        <span class="story-date">{{ story.datePosted | date: 'medium' }}</span>
      </div>
      <h3 class="story-title">{{ story.title }}</h3>
      <p class="story-content">{{ story.content }}</p>
    </div>
  </div>
  <ng-template #noApprovedStories>
    <p class="no-stories">No approved stories yet.</p>
  </ng-template>

  <!-- User's Pending Stories -->
  <h3>Your Pending Stories</h3>
  <div *ngIf="userStories.length > 0; else noPendingStories">
    <div class="story-card pending" *ngFor="let story of userStories">
      <h3 class="story-title">{{ story.title }} (Pending)</h3>
      <p class="story-content">{{ story.content }}</p>
    </div>
  </div>
  <ng-template #noPendingStories>
    <p class="no-stories">No pending stories.</p>
  </ng-template>

  <!-- Share Your Story -->
  <div class="share-story-form">
    <h3>Share Your Story</h3>
    <form (ngSubmit)="submitStory()" #storyForm="ngForm">
      <input type="text" class="story-title-input" [(ngModel)]="newStory.title" name="title" placeholder="Story Title" required />
      <textarea class="story-content-input" [(ngModel)]="newStory.content" name="content" placeholder="Your Story" required></textarea>
      <button type="submit" class="share-button">Submit for Approval</button>
    </form>
  </div>
</div>
