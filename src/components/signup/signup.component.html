<div class="signup-container">
  <h1>Sign Up</h1>
  <p>Enter details to create your account</p>

  <form (ngSubmit)="onSubmit()" #signupForm="ngForm">
<!--
    &lt;!&ndash; Username Field &ndash;&gt;
    <div class="form-group">
      <label for="username">Username*</label>
      <input
        type="text"
        id="username"
        name="username"
        [(ngModel)]="username"
        #usernameModel="ngModel"
        class="form-control"
        placeholder="Enter your username"
        required
      />
      <div *ngIf="usernameModel.invalid && usernameModel.touched" class="error">
        Username is required
      </div>
    </div>
-->

    <!-- Email Field -->
    <div class="form-group">
      <label for="email">Email*</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        #emailModel="ngModel"
        class="form-control"
        placeholder="Enter your email"
        required
        email
      />
      <div *ngIf="emailModel.invalid && emailModel.touched" class="error">
        A valid email is required
      </div>
    </div>

    <!-- Password Field -->
    <div class="form-group">
      <label for="password">Password*</label>
      <input
        type="password"
        id="password"
        name="password"
        [(ngModel)]="password"
        #passwordModel="ngModel"
        class="form-control"
        placeholder="Enter your password"
        required
        minlength="8"
      />
      <div *ngIf="passwordModel.invalid && passwordModel.touched" class="error">
        Password must be at least 8 characters
      </div>
    </div>

    <!-- Confirm Password Field -->
    <div class="form-group">
      <label for="confirmPassword">Confirm Password*</label>
      <input
        type="password"
        id="confirmPassword"
        name="confirmPassword"
        [(ngModel)]="confirmPassword"
        #confirmPasswordModel="ngModel"
        class="form-control"
        placeholder="Confirm your password"
        required
      />
      <div
        *ngIf="
          confirmPassword !== password &&
          confirmPasswordModel.touched
        "
        class="error"
      >
        Passwords do not match
      </div>
    </div>


    <!-- Role Selection -->
    <div class="form-group">
      <label for="role">Register as:</label>
      <select id="role" name="role" required [(ngModel)]="role">
        <option value="" disabled>Select your role</option>
        <option value="donor">Donor</option>
        <option value="recipient">Recipient</option>
      </select>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="signupForm.invalid"
      class="register-btn"
    >
      Register
    </button>
  </form>

  <p>Already Registered? <a routerLink="/login">Login</a></p>
</div>


<!-- Token Modal -->
<app-token-modal
  *ngIf="showModal"
  [email]="email"
  (validationSuccess)="onTokenValidationSuccess()"
  (validationFailure)="onTokenValidationFailure($event)"
></app-token-modal>
